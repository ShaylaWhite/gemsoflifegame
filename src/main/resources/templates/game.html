<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Guess Game</title>
</head>
<body>
<h1>Game</h1>

<div th:if="${gameOver}">
    <h2>Game Over!</h2>
</div>

<div th:if="${error}">
    <p class="error">${error}</p>
</div>

<p>Attempts Remaining: <span th:text="${game.attemptsRemaining}"></span></p>

<!-- Display Game's Secret Combination (for testing only, remove in production) -->
<p>Secret Combination: <span th:text="${game.secretCombination}"></span></p>

<!-- Make Guess Form -->
<form action="/game/guess" method="post">
    <input type="hidden" name="gameId" th:value="${game.id}">
    <input type="text" name="guess" placeholder="Enter your guess (comma-separated)" required>
    <button type="submit">Submit Guess</button>
</form>

<h3>Your Guess History:</h3>
<table>
    <thead>
    <tr>
        <th>Guess</th>
        <th>Feedback</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="guess : ${game.guesses}">
        <td th:text="${#strings.join(guess.guess, ', ')}"></td>
        <td th:text="${guess.feedback}"></td>
    </tr>
    </tbody>
</table>

</body>
</html>
